@baseUrl = http://localhost:5000/v1/api/pull-requests
@authToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hhbGlsIiwiaWF0IjoxNzQ2ODk3MTkxLCJleHAiOjE3NDk0ODkxOTF9.K9Shc2aaIzd09CTvUWKwTxa8rFX-7BSU4XcuMCID7i4
@invalidAuthToken = invalid.token.value

### ==================================================
### Create Pull Request
### ==================================================
POST {{baseUrl}}/
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "repository_id": 19,
  "author_id": 1,
  "source_branch": "feature-branch",
  "target_branch": "main",
  "source_repository_id": 15,
  "target_repository_id": 19
}

### Create Pull Request - Unauthorized
POST {{baseUrl}}/
Content-Type: application/json
# No Authorization header

{
  "repository_id": 1,
  "author_id": 1,
  "source_branch": "feature-branch",
  "target_branch": "main",
  "source_repository_id": 2,
  "target_repository_id": 1
}

### ==================================================
### Get All Pull Requests
### ==================================================
GET {{baseUrl}}/
Authorization: Bearer {{authToken}}

### Get All Pull Requests - Filter by ownerUserId
GET {{baseUrl}}/?ownerUserId=1
Authorization: Bearer {{authToken}}

### Get All Pull Requests - Filter by sourceRepoId
GET {{baseUrl}}/?sourceRepoId=2
Authorization: Bearer {{authToken}}

### Get All Pull Requests - Filter by targetRepoId
GET {{baseUrl}}/?targetRepoId=1
Authorization: Bearer {{authToken}}

### Get All Pull Requests - Invalid ownerUserId
GET {{baseUrl}}/?ownerUserId=notanumber
Authorization: Bearer {{authToken}}

### Get All Pull Requests - Unauthorized
GET {{baseUrl}}/
# No Authorization header

### ==================================================
### Preview Pull Request Diff
### ==================================================
GET {{baseUrl}}/1/preview
Authorization: Bearer {{authToken}}

### Preview Pull Request Diff - Not Found
GET {{baseUrl}}/99999/preview
Authorization: Bearer {{authToken}}

### Preview Pull Request Diff - Invalid ID
GET {{baseUrl}}/abc/preview
Authorization: Bearer {{authToken}}

### Preview Pull Request Diff - Unauthorized
GET {{baseUrl}}/1/preview
# No Authorization header

### ==================================================
### Prepare Pull Request Merge
### ==================================================
POST {{baseUrl}}/1/prepare-merge
Authorization: Bearer {{authToken}}

### Prepare Pull Request Merge - Not Found
POST {{baseUrl}}/99999/prepare-merge
Authorization: Bearer {{authToken}}

### Prepare Pull Request Merge - Invalid ID
POST {{baseUrl}}/abc/prepare-merge
Authorization: Bearer {{authToken}}

### Prepare Pull Request Merge - Unauthorized
POST {{baseUrl}}/1/prepare-merge
# No Authorization header

### ==================================================
### Finalize Pull Request Merge
### ==================================================
POST {{baseUrl}}/1/finalize-merge
Authorization: Bearer {{authToken}}

### Finalize Pull Request Merge - Not Found
POST {{baseUrl}}/99999/finalize-merge
Authorization: Bearer {{authToken}}

### Finalize Pull Request Merge - Invalid ID
POST {{baseUrl}}/abc/finalize-merge
Authorization: Bearer {{authToken}}

### Finalize Pull Request Merge - Unauthorized
POST {{baseUrl}}/1/finalize-merge
# No Authorization header

### ==================================================
### Update Pull Request Status
### ==================================================
PATCH {{baseUrl}}/1/status
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "status": "CLOSED"
}

### Update Pull Request Status - Invalid Status
PATCH {{baseUrl}}/1/status
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "status": "INVALID_STATUS"
}

### Update Pull Request Status - Not Found
PATCH {{baseUrl}}/99999/status
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "status": "CLOSED"
}

### Update Pull Request Status - Unauthorized
PATCH {{baseUrl}}/1/status
Content-Type: application/json
# No Authorization header

{
  "status": "CLOSED"
}

### ==================================================
### Delete Pull Request
### ==================================================
DELETE {{baseUrl}}/1
Authorization: Bearer {{authToken}}

### Delete Pull Request - Not Found
DELETE {{baseUrl}}/99999
Authorization: Bearer {{authToken}}

### Delete Pull Request - Invalid ID
DELETE {{baseUrl}}/abc
Authorization: Bearer {{authToken}}

### Delete Pull Request - Unauthorized
DELETE {{baseUrl}}/1
# No Authorization header

### ==================================================
### Deprecated: Get Pull Request Diff By ID
### ==================================================
GET {{baseUrl}}/1/diff
Authorization: Bearer {{authToken}}

### Get Pull Request Diff By ID - Not Found
GET {{baseUrl}}/99999/diff
Authorization: Bearer {{authToken}}

### Get Pull Request Diff By ID - Invalid ID
GET {{baseUrl}}/abc/diff
Authorization: Bearer {{authToken}}

### Get Pull Request Diff By ID - Unauthorized
GET {{baseUrl}}/1/diff
# No Authorization header

